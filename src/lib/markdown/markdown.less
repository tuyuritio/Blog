@import "$lib/style.less";

.markdown,
.table-of-contents {
	display: flex;
	flex-direction: column;

	word-wrap: break-word;

	font-size: 16px;

	> :first-child {
		margin-top: 0px;
	}

	h3,
	h4,
	h5,
	h6 {
		margin-bottom: 10px;
	}

	h1,
	h2 {
		.shadow();

		margin-top: 10px;
		text-shadow: @text-shadow;

		z-index: 1;
	}

	h1 {
		margin-bottom: 30px;
		border-width: 0px 0px 4px 0px;
		padding-bottom: 15px;

		font-size: 30px;
		text-align: center;
	}

	h2 {
		align-self: flex-start;

		margin-bottom: 20px;
		border-width: 0px 0px 2px 0px;
		padding-bottom: 10px;
		padding-right: 20px;
	}

	hr {
		margin-bottom: 15px;
		border-bottom: 1px dashed @remark;
	}

	p {
		margin-bottom: 15px;
	}

	a:hover {
		border-bottom: 2px solid @foreground;
	}

	ul,
	ol {
		margin-bottom: 15px;

		list-style-position: inside;

		li {
			margin-bottom: 5px;
		}

		ul,
		ol {
			margin-left: 25px;
			margin-bottom: 5px;

			li {
				margin-top: 5px;
				margin-bottom: 0px;
			}
		}
	}

	ul.contains-task-list {
		list-style: none;
	}

	blockquote {
		margin-bottom: 15px;
		border-left: 4px solid @shadow;
		padding-left: 15px;

		p {
			margin: 0px;
			padding-bottom: 15px;
		}

		blockquote {
			margin-bottom: 0px;
		}
	}

	code {
		border-radius: 5px;
		padding: 0.2em 0.4em;

		background-color: @block;

		font-size: 0.8em;
		-webkit-user-drag: none;

		&,
		span {
			font-family: @monospace;
			user-select: text;
		}
	}

	pre > code {
		margin-bottom: 15px;
		border-radius: 10px;
	}

	ruby {
		rt {
			font-size: 0.6em;
		}
	}

	mark {
		background-color: @shadow;
	}

	img {
		max-width: 100%;
	}

	table {
		align-self: flex-start;

		margin-bottom: 15px;
		border-collapse: collapse;

		th,
		td {
			border-left: 2px solid @remark;
			padding: 5px 10px;

			&:first-child {
				border-left: none;
			}
		}

		td {
			border-top: 2px solid @remark;
		}
	}

	.footnote {
		&-ref {
			a {
				color: @remark;

				&:hover {
					border-bottom: 1px solid @remark;
				}
			}
		}
	}

	.footnotes {
		color: @remark;
		font-size: 0.8em;

		ol.footnotes-list {
			list-style: none;
			padding-left: 30px;

			counter-reset: footnote;

			li.footnote-item {
				position: relative;

				counter-increment: footnote;

				&::before {
					position: absolute;
					left: -30px;

					content: "[" counter(footnote) "]";
					font-weight: bold;
				}

				.footnote-backref {
					color: @remark;

					&:hover {
						border-bottom: 1px solid @remark;
					}
				}
			}
		}
	}

	.markdown-alert {
		margin-bottom: 15px;
		border-left: 4px solid;
		padding: 5px 15px;

		&-title {
			display: flex;
			line-height: 1;

			margin-bottom: 5px;

			svg {
				margin-right: 10px;
			}
		}

		&-note {
			color: #0969da;
		}

		&-tip {
			color: #1a7f37;
		}

		&-important {
			color: #8250df;
		}

		&-warning {
			color: #bf8700;
		}

		&-caution {
			color: #cf222e;
		}

		p:not(:first-child) {
			color: @foreground;
		}
	}
}